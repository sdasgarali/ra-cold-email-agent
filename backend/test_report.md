# Lead-Contact Relationship Test Report

**Test Date:** 2026-01-29 09:10:37
**Status:** PASSED

## 1. Test Overview

This test verifies that the Lead â†’ Contact relationship is correctly implemented:
- Contacts are linked to specific leads via `lead_id`
- Contact's `client_name` matches the linked lead's `client_name`
- No orphaned contacts (contacts without valid lead references)

## 2. Database Cleanup

- Deleted 0 leads
- Deleted 0 contacts
- Database reset to clean state: SUCCESS

## 3. Lead Sourcing Pipeline

**Result:** {'inserted': 14, 'updated': 0, 'skipped': 0, 'errors': 0, 'sources_used': ['apollo', 'jsearch'], 'jobs_per_source': {'apollo': 12, 'jsearch': 2}}

| Metric | Value |
|--------|-------|
| Leads Inserted | 14 |
| Leads Skipped (duplicates) | 0 |
| Errors | 0 |
| Sources Used | apollo, jsearch |

**Total Leads in Database:** 14

## 4. Contact Enrichment Pipeline

**Result:** {'contacts_found': 56, 'leads_enriched': 14, 'skipped': 0, 'errors': 0}

| Metric | Value |
|--------|-------|
| Contacts Found | 56 |
| Leads Enriched | 14 |
| Skipped | 0 |
| Errors | 0 |

**Total Contacts in Database:** 56

## 5. Verification Results

### Checks Performed

- [x] All 56 contacts have lead_id set
- [x] All contact lead_id references are valid
- [x] All contact client_names match their linked lead's client_name
- [x] Leads with contacts: 14, without: 0

### No Issues Found

All verification checks passed successfully.

## 6. Lead-Contact Mapping Sample

| Lead ID | Company | Job Title | Contacts |
|---------|---------|-----------|----------|
| 1 | Modern Healthcare | HR Manager | John Wilson (john.wilson@modernhealthcar.com), Jam... |
| 2 | Becker's Healthcare | HR Director | James Miller (james.miller@becker'shealthc.com), D... |
| 3 | Inbound Logistics | Recruiter | Lisa Johnson (lisa.johnson@inboundlogistic.com), E... |
| 4 | USAID | Talent Acquisition | Sarah Brown (sarah.brown@usaid.com), Maria Smith (... |
| 5 | Fortune | Operations Manager | Michael Johnson (michael.johnson@fortune.com), Rob... |
| 6 | GE Aerospace | Production Supervisor | David Davis (david.davis@geaerospace.com), Emily W... |
| 7 | Simplify Healthcare | Logistics Manager | Maria Jones (maria.jones@simplifyhealthc.com), Dav... |
| 8 | Simon Sinek's The Optimism Com | Supply Chain Manager | John Davis (john.davis@simonsinek'sthe.com), Micha... |
| 9 | Money, Inc. | Maintenance Manager | Sarah Garcia (sarah.garcia@moneyinc.com), Emily Jo... |
| 10 | American College of Healthcare | Quality Manager | David Miller (david.miller@americancollege.com), D... |

## 7. Conclusion

**Test Result:** PASSED - All contacts are correctly linked to their leads via lead_id

### Key Findings:
1. Lead sourcing creates leads with status 'new' to enable contact enrichment
2. Contact enrichment correctly sets lead_id when creating contacts
3. Contact's client_name is copied from the lead for consistency
4. Each contact is uniquely linked to a specific lead (1-to-many relationship)

---
*Report generated by test_lead_contact_flow.py*
